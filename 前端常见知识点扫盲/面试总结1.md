# 面试题目总结第二部分 -- React和Vue

### 一、React

#### 1、基本概念
#### 2、React中常见模式

> 1、混入（mixins） 常见于：高阶组件（HOC）
> 什么是高阶组件：一个高阶组件只是一个包装了另外一个 React 组件的 React 组件。

```
const EnhancedComponent = higherOrderComponent(WrappedComponent);
```
> 可以实现的功能：
> a、属性代理（Props Proxy）：高阶组件操控传递给 WrappedComponent 的 props，
> b、反向继承（Inheritance Inversion）：高阶组件继承（extends）WrappedComponent。
> 作用：
1、代码复用，逻辑抽象，抽离底层准备（bootstrap）代码
2、渲染劫持
3、State 抽象和更改
4、Props 更改
最简单示例：
1、Props Proxy （PP）
function ppHOC(WrappedComponent) {
  return class PP extends React.Component {
    render() {
      return <WrappedComponent {...this.props}/>
    }
  }
}

> 2、组合模式 常见于：各种模块

> 3、工厂模式 ReactComponent 加工成不同的componet

#### 3、ReactClass
对比 ES5 写法: var MyComponent = React.createClass({})，ES6写法：class MyComponent extends React.Component;

#### 4、redux
> 1、redux用于解决多个UI组件之间的数据共享问题。
> 2、严格数据只能在一个方向上流动。
> 3、所有的数据（比如state）被保存在一个被称为store的容器中 → 在一个应用程序中只能有一个。store本质上是一个状态树，保存了所有对象的状态。  
> 4、“model view update” 原则

#### react生命周期
> a、首先，我们看一下一个组件的构造：

```
import React, { Component } from "react";

Class Test extends Component{
  constructor(props, context){
    super(props, context);
    this.state = {
      // 定义state
    }
  }
  componentWillMount(){}
  componentDidMount(){}
  componentWillReceiveProps(nextProps){}
  shouldComponentUpdate(nextProps, nextState){}
  componentWillUpdate(nextProps, nextState){}
  componentDidUpdate(prevProps, prevState){}

  render(){
    return(<div></div>)
  }

  componentWillUnmout(){}

}
```
理解：
> 1、组建经历constructor初始化数据；    
> 2、进入componentWillMount 组件即将挂载 逻辑     
> 3、当组件第一次完成渲染，会触发 componentDidMount， 表示dom节点已经生成，可以使用调用的异步函数，进行数据调用，并且将返回数据setState;      
> 4、componentWillReceiveProps 是在父组件改变了传入的 props 的时候，会首选调用，平常使用：会用nextProps和this.props对比判断，然后setState;       
> 5、shouldComponentUpdate 可以用于在父组件更新后，导致子组件重新渲染都得逻辑，如果不重新渲染子组件，可以在此部分进行 return  false 处理，不做子组件更新;       
> 6、componentWillUpdate 是在 shouldComponentUpdate return false的时候调用；      
> 7、redner 会在react更新完成后，根据diff算法，会拿到一个差异最小的dom借点书，进行渲染
> 8、render完成后，会进入 componentDidUpdate
> 9、当卸载组件的时候，会促发： componentWillUnmout ，可以用于销毁组件的时候，某些操作还在进行的时候，作为判断使用：

```
componentDidMount(){
  this.isMount = true;
  axios.post().then((res)=>{
    this.isMount && this.setState({
      res: res
    });
  });
}
componentWillUnmout(){
  this.isMount = false;
}
```

### Vue

#### 实现数据双向绑定

1、Object.definedProperty

```
var person = function() {
    var _name = ' ';
    var obj = {};
    Object.defineProperty(obj, 'name', {
        configurable: true,
        enumerable: true,
        get: function() {
            return _name;
        },
        set: function(n) {
            _name = n;
        }
    })
    return obj;
}();
person.name = "Zhangsan";
person.name // 输出 --> Zhangsan
```
